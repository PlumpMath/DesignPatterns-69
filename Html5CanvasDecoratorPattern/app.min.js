var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},ImageRender=function(){function n(){}return n.prototype.render=function(n,t){var i=this;n.getContext&&(this.context=n.getContext("2d"),this.image=new Image,this.image.onload=function(){i.onImageLoad()},this.image.src=t,console.log("hi"))},n.prototype.onImageLoad=function(){this.context.drawImage(this.image,0,0)},n}(),AFilterImageRender=function(){function n(n){this._imageRender=n}return n.prototype.render=function(n,t){var i=this;n.getContext&&(this._imageRender.render(n,t),this._imageRender.image.onload=function(){i.onImageLoad()})},n.prototype.onImageLoad=function(){this._imageRender.onImageLoad(),this._filter()},n.prototype._filter=function(){throw new Error("This method is abstract");},n}(),CircleFramedImageRender=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._filter=function(){this._imageRender.context.strokeStyle="#FF0000",this._imageRender.context.lineWidth=100,this._imageRender.context.beginPath(),this._imageRender.context.arc(100,100,150,0,Math.PI*2,!0),this._imageRender.context.closePath(),this._imageRender.context.stroke()},t}(AFilterImageRender),RectangleFrameImageRender=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._filter=function(){this._imageRender.context.strokeStyle="#0000FF",this._imageRender.context.lineWidth=50,this._imageRender.context.beginPath(),this._imageRender.context.rect(0,0,200,200),this._imageRender.context.closePath(),this._imageRender.context.stroke()},t}(AFilterImageRender),InvertImageRender=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._filter=function(){var i=this._imageRender.context.getImageData(0,0,this._imageRender.image.width,this._imageRender.image.height),t=i.data,n;for(console.log(t),n=0;n<t.length;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2];this._imageRender.context.putImageData(i,0,0)},t}(AFilterImageRender);window.onload=function(){var n="images/sample.png",u=new ImageRender,t,i,r;u.render(document.getElementById("myCanvas"),n),t=new CircleFramedImageRender(new ImageRender),t.render(document.getElementById("myCanvasFramed1"),n),i=new RectangleFrameImageRender(new ImageRender),i.render(document.getElementById("myCanvasFramed2"),n),r=new InvertImageRender(new ImageRender),r.render(document.getElementById("myCanvasFramed3"),n)}